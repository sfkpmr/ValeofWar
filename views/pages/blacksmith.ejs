<!DOCTYPE html>
<html>

<head>
    <title>Blacksmith</title>
    <script type="text/javascript" src="../static/calc.js"></script> 

</head>

<body>

    <!-- TODO server check barrack exists and has levels-->
    <!-- TODO detect empty fields? Gives NaN crafting cost-->

    Gold: <%= gold %> Iron: <%= iron %> Lumber: <%= lumber %> Stone: <%= stone %> Grain: <%= grain %> Recruits: <%= recruits %> Horses: <%= horses %> <br>
    <br>

    Blacksmith level: <%= blacksmith %> <br>

    <br>

    Boots: <%= boots %> <br>
    Bracers: <%= bracers %><br>
    Helmets: <%= helmets %><br>
    Lances: <%= lances %><br>
    Longbows: <%= longbows %><br>
    Shields: <%= shields %><br>
    Spears: <%= spears %><br>
    Swords: <%= swords %><br>
<br>
    <form action="/town/blacksmith/craft" method="POST">
        <label for="boots">Boots:</label>
        <input type="number" id="boots" name="boots" value="0" oninput="craftingCost(this.value)" min=0 oninput="validity.valid||(value='');"><br>
        <label for="bracers">Bracers:</label>
        <input type="number" id="bracers" name="bracers" value="0" oninput="craftingCost(this.value)" min=0 oninput="validity.valid||(value='');"><br>
        <label for="helmet">Helmet:</label>
        <input type="number" id="helmet" name="helmet" value="0" oninput="craftingCost(this.value)" min=0 oninput="validity.valid||(value='');"><br>
        <label for="lance">Lance:</label>
        <input type="number" id="lance" name="lance" value="0" oninput="craftingCost(this.value)" min=0 oninput="validity.valid||(value='');"><br>
        <label for="longbow">Longbow:</label>
        <input type="number" id="longbow" name="longbow" value="0" oninput="craftingCost(this.value)" min=0 oninput="validity.valid||(value='');"><br>
        <label for="shield">Shield:</label>
        <input type="number" id="shield" name="shield" value="0" oninput="craftingCost(this.value)" min=0 oninput="validity.valid||(value='');"><br>
        <label for="spear">Spear:</label>
        <input type="number" id="spear" name="spear" value="0" oninput="craftingCost(this.value)" min=0 oninput="validity.valid||(value='');"><br>
        <label for="sword">Sword:</label>
        <input type="number" id="sword" name="sword" value="0" oninput="craftingCost(this.value)" min=0 oninput="validity.valid||(value='');"><br><br>
        Crafting cost: <output id="lumber">0</output> lumber, <output id="iron">0</output> iron and <output id="gold">0</output> gold. <br>
        <input type="submit" value="Craft">
    </form>

    <form action="/town/blacksmith/upgrade" method="POST">
        <input type="submit" value="Upgrade">
    </form>

    <a href="/town">Town</a> <a href="/land">Land</a> <a href="/logout">Log out</a>

</body>

</html>